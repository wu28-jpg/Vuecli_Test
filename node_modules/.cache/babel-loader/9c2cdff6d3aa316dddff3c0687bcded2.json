{"remainingRequest":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\src\\components\\About.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\src\\components\\About.vue","mtime":1655538128656},{"path":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654650351657},{"path":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\babel-loader\\lib\\index.js","mtime":1654650367372},{"path":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654650351657},{"path":"C:\\Users\\tangt\\Documents\\HBuilderProjects\\Vuecli_Test\\node_modules\\vue-loader\\lib\\index.js","mtime":1654650364246}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\tangt\\\\Documents\\\\HBuilderProjects\\\\Vuecli_Test\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  inject: ['reload'],\n  name: 'About',\n  data: function data() {\n    return {\n      search: \"\",\n      tableAbout: [],\n      dialogFormVisible: false,\n      dialogTableVisible: false,\n      updateCk: false,\n      food: {\n        foodId: '',\n        foodName: '',\n        shopId: '',\n        saleNum: '',\n        price: '',\n        count: '',\n        taste: ''\n      },\n      editObj: {\n        foodId: '',\n        foodName: '',\n        shopId: '',\n        saleNum: '',\n        price: '',\n        count: '',\n        taste: ''\n      },\n      formLabelWidth: '120px',\n      formLabelWidth1: '100px'\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // this.load()\n    axios({\n      url: \"http://172.21.97.150:8080/erpw/listUserJson\",\n      // url:\"http://172.21.71.35:9092/user/list\",\n      methods: \"get\"\n    }).then(function (response) {\n      return _this.tableAbout = response.data;\n    }).catch(function (error) {\n      // 请求失败处理\n      console.log(error);\n    });\n  },\n  methods: {\n    //界面传值方法\n    employeesdetails: function employeesdetails(tableAbout) {\n      this.$router.push({\n        //添加需要传值到那个页面的路径\n        path: '../components/test',\n        //携带需要传递的参数\n        query: {\n          tableAbout: tableAbout\n        }\n      });\n    },\n    updateDate: function updateDate() {\n      var editObj = this.editObj;\n      console.log(editObj);\n      axios({\n        url: 'http://localhost:8080/rs/updateFood',\n        method: \"put\",\n        data: this.editObj\n      }).then(function (response) {\n        console.log(0);\n      }).catch(function (error) {\n        console.log(1);\n      });\n    },\n    // load() {\n    // \taxios({\n    // \t\t\t// url: 'https://tenapi.cn/douyinresou/',\n    // \t\t\turl: \"http://localhost:8080/rs/listFoodJson\",\n    // \t\t\tmethods: \"get\"\n    // \t\t}).then(response => (this.tableAbout = response.data))\n    // \t\t.catch(function(error) { // 请求失败处理\n    // \t\t\tconsole.log(error);\n    // \t\t});\n    // },\n    editUserInfo: function editUserInfo() {\n      var _this2 = this;\n\n      this.$refs.editFormRef.validate(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(valid) {\n          var _ref2, res;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  console.log(valid);\n\n                  if (valid) {\n                    _context.next = 3;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 3:\n                  _context.next = 5;\n                  return _this2.$http.put('users/' + _this2.editForm.id, {\n                    email: _this2.editForm.email,\n                    mobile: _this2.editForm.mobile\n                  });\n\n                case 5:\n                  _ref2 = _context.sent;\n                  res = _ref2.data;\n\n                  if (!(res.meta.status !== 200)) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", _this2.$message.error('更新用户信息失败！'));\n\n                case 9:\n                  // 关闭对话框\n                  _this2.editDialogVisible = false; // 更新数据列表\n\n                  _this2.getUserList(); // 提示修改成功\n\n\n                  _this2.$message.success('更新用户信息成功！');\n\n                case 12:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    update: function update(index, row) {\n      //记录索引\n      this.listIndex = index; //记录数据\n\n      this.editObj = row; //显示弹窗\n\n      this.updateCk = true;\n    },\n    // editDo() {\n    // \tlet _index = this.listIndex\n    // \t//根据索引，赋值到list制定的数\n    // \tthis.tableAbout[index] = editObj;\n    // \t//关闭弹窗\n    // \tthis.dialogFormVisible = false;\n    // },\n    open: function open() {\n      var _this3 = this;\n\n      // this.$message({\n      // \ttype: 'success',\n      // \tmessage: '添加成功!',\t\t\t\t\n      // });\n      // this.reload()\n      this.$confirm('确定执行?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this3.$message({\n          type: 'success',\n          message: '成功!'\n        });\n\n        _this3.reload();\n      }).catch(function () {\n        _this3.$message({\n          type: 'info',\n          message: '失败'\n        });\n      });\n    },\n    deleteData: function deleteData(index, row) {\n      var _this4 = this;\n\n      //this.tableData.splice(index, 1)\n      console.log(\"商品编号：\", row.foodId);\n      this.$confirm('此操作将永久删除该信息, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var params = new URLSearchParams();\n        params.append(\"foodId\", row.foodId);\n        axios.get('http://localhost:8080/rs/deleteFood?id=' + row.foodId).then(function (response) {\n          console.log(0);\n          this.load();\n        }).catch(function (error) {\n          console.log(1);\n        });\n\n        _this4.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n\n        _this4.reload(); // this.$router.push(\"/About\");  //页面刷新\n        // this.load();\n\n      }).catch(function () {\n        _this4.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    addData: function addData() {\n      var food = this.food;\n      console.log(food.foodId); // axios({\n      // \turl:'http://localhost:8080/rs/addFood',\n      // \tmethod:\"POST\",\n      // \tdata:{\n      // \t\"food\":food,\n      // \t}\n      // })\n\n      axios.post('http://localhost:8080/rs/addFood', {\n        foodId: food.foodId,\n        foodName: food.foodName,\n        shopId: food.shopId,\n        saleNum: food.saleNum,\n        count: food.count,\n        price: food.price,\n        taste: food.taste\n      }).then(function (response) {\n        // console.log(this.food.foodId);\n        console.log(0);\n        this.reload();\n      }).catch(function (error) {\n        console.log(this.food.foodId);\n        console.log(1);\n      });\n    }\n  } // del(foodId) {\n  // \taxios.get('http://localhost:8080/rs/deleteFood?id=', {\n  // \t\t\tparams: {\n  // \t\t\t\tID: 12345\n  // \t\t\t}\n  // \t\t})\n  // \t\t.then(function(response) {\n  // \t\t\tconsole.log(response);\n  // \t\t})\n  // \t\t.catch(function(error) {\n  // \t\t\tconsole.log(error);\n  // \t\t});\n  // }\n\n};",{"version":3,"sources":["About.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n\t<div id=\"About\">\r\n\t\t{{tableAbout}}\r\n\t\t<el-table :data=\"tableAbout\" style=\"width: 100%\">\r\n\t\t\t<el-table-column prop=\"userId\" label=\"名称\" width=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"username\" label=\"热度\" width=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"password\" label=\"taste\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column>\r\n\t\t\t\t<template slot=\"header\" slot-scope=\"scope\">\r\n\t\t\t\t\t<el-input v-model=\"search\" size=\"mini\" placeholder=\"请输入查找内容\" />\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"right\">\r\n\t\t\t\t<template slot=\"header\">\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"dialogFormVisible = true\" round>新增</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" align=\"right\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"update(scope.$index, scope.row)\" round>编辑</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"deleteData(scope.$index,scope.row) \">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<!--弹出新增界面-->\r\n\t\t<el-dialog title=\"新增\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form :model=\"food\">\r\n\t\t\t\t<el-form-item label=\"foodId\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"food.foodId\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"foodName\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"food.foodName\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"shopId\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"food.shopId\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- \t\t<el-form-item label=\"taste\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-select v-model=\"food.taste\" placeholder=\"口味\">\r\n\t\t\t\t\t\t<el-option label=\"水果、奶油、面包、鸡蛋\t\" value=\"shanghai\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"玫瑰花、奶油、鸡蛋\" value=\"beijing\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item> -->\r\n\t\t\t\t<!-- <el-form-item label=\"saleNum\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"food.saleNum\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item> -->\r\n\t\t\t\t<el-form-item label=\"count\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"food.count\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addData(),dialogFormVisible = false,open()\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<!-- 修改界面-->\r\n\t\t<el-dialog title=\"修改\" :visible.sync=\"updateCk\" width=\"50%\">\r\n\t\t\t<el-form :model=\"editObj\" ref=\"editFormRef\" label-width=\"70px\">\r\n\t\t\t\t<el-form-item label=\"foodId\">\r\n\t\t\t\t\t<el-input v-model=\"editObj.foodId\" disabled></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"foodName\" prop=\"email\">\r\n\t\t\t\t\t<el-input v-model=\"editObj.foodName\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"shopId\" prop=\"mobile\">\r\n\t\t\t\t\t<el-input v-model=\"editObj.shopId\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"updateCk = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"updateDate(),updateCk=false,open()\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\t\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t\tinject: ['reload'],\r\n\t\tname: 'About',\r\n\t\tdata(){\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tsearch: \"\",\r\n\t\t\t\ttableAbout: [],\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogTableVisible: false,\r\n\t\t\t\tupdateCk:false,\r\n\t\t\t\tfood: {\r\n\t\t\t\t\tfoodId: '',\r\n\t\t\t\t\tfoodName: '',\r\n\t\t\t\t\tshopId: '',\r\n\t\t\t\t\tsaleNum: '',\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t\tcount: '',\r\n\t\t\t\t\ttaste: '',\r\n\r\n\t\t\t\t},\r\n\t\t\t\teditObj: {\r\n\t\t\t\t\tfoodId: '',\r\n\t\t\t\t\tfoodName: '',\r\n\t\t\t\t\tshopId: '',\r\n\t\t\t\t\tsaleNum: '',\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t\tcount: '',\r\n\t\t\t\t\ttaste: '',\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px',\r\n\t\t\t\tformLabelWidth1: '100px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t\t// this.load()\r\n\t\t\taxios({\r\n\t\t\t\t\turl: \"http://172.21.97.150:8080/erpw/listUserJson\",\r\n\t\t\t\t\t\r\n\t\t\t\t\t// url:\"http://172.21.71.35:9092/user/list\",\r\n\t\t\t\t\tmethods: \"get\"\r\n\t\t\t\t}).then(response => (this.tableAbout = response.data))\r\n\t\t\t\t.catch(function(error) { // 请求失败处理\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t//界面传值方法\r\n\t\t\temployeesdetails(tableAbout){\r\n\t\t\t      this.$router.push(\r\n\t\t\t      {\r\n\t\t\t      //添加需要传值到那个页面的路径\r\n\t\t\t      path:'../components/test', \r\n\t\t\t      //携带需要传递的参数\r\n\t\t\t      query:{tableAbout:tableAbout}\r\n\t\t\t      })\r\n\t\t\t    },\r\n\r\n\t\t\tupdateDate(){\r\n\t\t\t\tvar editObj=this.editObj\r\n\t\t\t\tconsole.log(editObj)\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl:'http://localhost:8080/rs/updateFood',\r\n\t\t\t\t\tmethod:\"put\",\r\n\t\t\t\t\tdata:this.editObj\r\n\t\t\t\t})\t\t\t\t  \r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\tconsole.log(0);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(1);\r\n\t\t\t\t});\t\t\t\r\n\t\t\t},\r\n\t\t\t// load() {\r\n\t\t\t// \taxios({\r\n\t\t\t// \t\t\t// url: 'https://tenapi.cn/douyinresou/',\r\n\t\t\t// \t\t\turl: \"http://localhost:8080/rs/listFoodJson\",\r\n\t\t\t// \t\t\tmethods: \"get\"\r\n\t\t\t// \t\t}).then(response => (this.tableAbout = response.data))\r\n\t\t\t// \t\t.catch(function(error) { // 请求失败处理\r\n\t\t\t// \t\t\tconsole.log(error);\r\n\t\t\t// \t\t});\r\n\t\t\t// },\r\n\t\t\teditUserInfo() {\r\n\t\t\t\tthis.$refs.editFormRef.validate(async valid => {\r\n\t\t\t\t\tconsole.log(valid)\r\n\t\t\t\t\tif (!valid) return\r\n\t\t\t\t\t// 发起修改用户信息的数据请求\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tdata: res\r\n\t\t\t\t\t} = await this.$http.put('users/' + this.editForm.id, {\r\n\t\t\t\t\t\temail: this.editForm.email,\r\n\t\t\t\t\t\tmobile: this.editForm.mobile\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.meta.status !== 200) {\r\n\t\t\t\t\t\treturn this.$message.error('更新用户信息失败！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 关闭对话框\r\n\t\t\t\t\tthis.editDialogVisible = false\r\n\t\t\t\t\t// 更新数据列表\r\n\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\t// 提示修改成功\r\n\t\t\t\t\tthis.$message.success('更新用户信息成功！')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tupdate(index, row) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//记录索引\r\n\t\t\t\tthis.listIndex = index;\r\n\t\t\t\t//记录数据\r\n\t\t\t\tthis.editObj = row;\r\n\t\t\t\t//显示弹窗\r\n\t\t\t\tthis.updateCk = true;\r\n\t\t\t},\r\n\t\t\t// editDo() {\r\n\t\t\t// \tlet _index = this.listIndex\r\n\t\t\t// \t//根据索引，赋值到list制定的数\r\n\t\t\t// \tthis.tableAbout[index] = editObj;\r\n\t\t\t// \t//关闭弹窗\r\n\t\t\t// \tthis.dialogFormVisible = false;\r\n\t\t\t// },\r\n\r\n\t\t\topen() {\r\n\t\t\t\t// this.$message({\r\n\t\t\t\t// \ttype: 'success',\r\n\t\t\t\t// \tmessage: '添加成功!',\t\t\t\t\r\n\t\t\t\t// });\r\n\t\t\t\t// this.reload()\r\n\t\t\t\tthis.$confirm('确定执行?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '成功!',\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.reload()\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '失败'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteData(index, row) {\r\n\t\t\t\t//this.tableData.splice(index, 1)\r\n\t\t\t\tconsole.log(\"商品编号：\", row.foodId)\r\n\t\t\t\tthis.$confirm('此操作将永久删除该信息, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tvar params = new URLSearchParams()\r\n\t\t\t\t\tparams.append(\"foodId\", row.foodId)\r\n\t\t\t\t\taxios.get('http://localhost:8080/rs/deleteFood?id=' + row.foodId)\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\tconsole.log(0);\r\n\t\t\t\t\t\t\tthis.load()\r\n\t\t\t\t\t\t}).catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(1);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.reload()\r\n\r\n\t\t\t\t\t// this.$router.push(\"/About\");  //页面刷新\r\n\t\t\t\t\t// this.load();\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddData() {\r\n\t\t\t\tvar food = this.food;\r\n\t\t\t\tconsole.log(food.foodId);\r\n\t\t\t\t// axios({\r\n\t\t\t\t// \turl:'http://localhost:8080/rs/addFood',\r\n\t\t\t\t// \tmethod:\"POST\",\r\n\t\t\t\t// \tdata:{\r\n\t\t\t\t// \t\"food\":food,\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\taxios.post('http://localhost:8080/rs/addFood', {\r\n\t\t\t\t\t\tfoodId: food.foodId,\r\n\t\t\t\t\t\tfoodName: food.foodName,\r\n\t\t\t\t\t\tshopId: food.shopId,\r\n\t\t\t\t\t\tsaleNum: food.saleNum,\r\n\t\t\t\t\t\tcount: food.count,\r\n\t\t\t\t\t\tprice: food.price,\r\n\t\t\t\t\t\ttaste: food.taste,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(this.food.foodId);\r\n\t\t\t\t\t\tconsole.log(0);\r\n\t\t\t\t\t\tthis.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(this.food.foodId);\r\n\t\t\t\t\t\tconsole.log(1);\r\n\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\t// del(foodId) {\r\n\t\t// \taxios.get('http://localhost:8080/rs/deleteFood?id=', {\r\n\t\t// \t\t\tparams: {\r\n\t\t// \t\t\t\tID: 12345\r\n\t\t// \t\t\t}\r\n\t\t// \t\t})\r\n\t\t// \t\t.then(function(response) {\r\n\t\t// \t\t\tconsole.log(response);\r\n\t\t// \t\t})\r\n\t\t// \t\t.catch(function(error) {\r\n\t\t// \t\t\tconsole.log(error);\r\n\t\t// \t\t});\r\n\t\t// }\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.el-table {\r\n\t\twidth: 100%;\r\n\t\r\n\t\t.el-table__header-wrapper table,\r\n\t\t.el-table__body-wrapper table {\r\n\t\t\twidth: 100% !important;\r\n\t\t}\r\n\t\r\n\t\t.el-table__body,\r\n\t\t.el-table__footer,\r\n\t\t.el-table__header {\r\n\t\t\ttable-layout: auto;\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}